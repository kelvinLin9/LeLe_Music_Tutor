import{_ as C,o as c,c as g,d as e,av as R,H as $,r as b,e as t,w as y,aw as d,h as x,f as k,n as _,i as V,q as T,v as F,ax as D,g as j,p as G,j as z}from"./index-6bf52aae.js";import{_ as H}from"./google-icon-6a63502b.js";import{u as W}from"./user-85070c34.js";import"./sweetalert2-a2985e93.js";const A="/LeLe_Music_Tutor/assets/login-9e134a52.jpg";const J={},K={class:"loadingio-spinner-spinner-dut17ci7nge"},O=e("div",{class:"ldio-g6c8n0v7cjr"},[e("div"),e("div"),e("div"),e("div"),e("div"),e("div"),e("div"),e("div"),e("div"),e("div"),e("div"),e("div")],-1),Q=[O];function X(p,i){return c(),g("div",K,Q)}const L=C(J,[["render",X]]);const l=p=>(G("data-v-e5c3723f"),p=p(),z(),p),Y={class:"container-fluid ps-0 position-relative"},Z=l(()=>e("span",null,"樂樂音樂家教媒合平台",-1)),ee={class:"row align-items-md-center justify-content-center justify-content-md-start"},se=l(()=>e("div",{class:"col-6 col-lg-4 d-none d-md-block"},[e("img",{src:A,alt:"登入圖",class:"login-side-img"})],-1)),oe={class:"col-12 col-md-6 col-xl-4"},le={key:0,class:"login-wrap d-flex flex-column justify-content-center"},te=l(()=>e("h1",{class:"mx-auto border-bottom my-16 pb-16 w-75 text-center fs-1"}," 會員登入 ",-1)),ae=["disabled"],ne=l(()=>e("img",{src:H,alt:"google icon",class:"google-icon me-2"},null,-1)),ie=l(()=>e("span",{class:"google-login-text"},"使用 Google 登入",-1)),de=l(()=>e("hr",{class:"mx-auto w-75 mt-16 text-center fs-7 login-hr"},null,-1)),ce={class:"mb-3"},re=l(()=>e("label",{for:"email",class:"form-label"}," Email： ",-1)),me={class:"mb-3"},ue={class:"d-flex justify-content-between align-items-center"},_e=l(()=>e("label",{for:"password",class:"form-label"}," 密碼： ",-1)),pe={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},fe={class:"modal-dialog modal-dialog-centered"},ve={class:"modal-content"},be=l(()=>e("div",{class:"modal-header"},[e("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"重設密碼"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),ge={class:"modal-body"},he={class:"mb-3"},we=l(()=>e("label",{for:"resetPasswordEmail",class:"form-label"},"請填寫註冊Email",-1)),ye={class:"modal-footer"},xe={type:"submit",class:"btn btn-dark d-block mx-auto py-3 w-100 d-flex justify-content-center"},ke=l(()=>e("span",null,"登入",-1)),Ve={class:"mx-auto w-75 my-3 text-center fs-7 text-delete"},Le={key:1,class:"login-wrap d-flex flex-column justify-content-center"},Ee=l(()=>e("h1",{class:"mx-auto border-bottom my-3 pb-2 w-75 text-center"},"會員註冊",-1)),$e={class:"mb-3"},je=l(()=>e("label",{for:"displayName",class:"form-label"}," 姓名： ",-1)),Ce={class:"mb-3"},Pe=l(()=>e("label",{for:"email",class:"form-label"}," Email： ",-1)),Me={class:"mb-3"},Ue=l(()=>e("label",{for:"password",class:"form-label"}," 密碼： ",-1)),qe={class:"mb-3"},Se=l(()=>e("label",{for:"confirmation",class:"form-label"}," 再次輸入密碼： ",-1)),Be={type:"submit",class:"btn btn-dark d-block mx-auto py-3 w-100 d-flex justify-content-center"},Ie=l(()=>e("span",null,"註冊",-1)),Ne={class:"mx-auto w-75 my-3 text-center fs-7 text-delete"},Re={__name:"Login",setup(p){const i=W(),{showLogInPage:h,signupLoading:P,loginLoading:v,isChecked:Te}=R(i),M=i.signup,U=i.login;i.checkUser;const q=i.verifyEmail,w=i.resetPasswordEmail,r=$({email:"",password:""}),S=async()=>{const f=await U(r.value);console.log(f),f&&(r.value={email:"",password:""})},a=$({name:"",email:"",password:"",confirmPassword:""}),B=()=>{M(a.value),a.value={name:"",email:"",password:"",confirmPassword:""}},I=()=>{v.value=!0,console.log("http://localhost:5173/LeLe_Music_Tutor/google/callback"),window.location.href="https://accounts.google.com/o/oauth2/v2/auth?client_id=355247902914-5kufc40uo16u3n9k2rnlepgk9vmquret.apps.googleusercontent.com&redirect_uri=http://localhost:5173/LeLe_Music_Tutor/google/callback&response_type=code&scope=email%20profile&access_type=offline"};return(f,s)=>{const N=b("RouterLink"),m=b("VField"),u=b("ErrorMessage"),E=b("VForm");return c(),g("div",Y,[e("h1",null,[t(N,{to:"/",class:"login-logo navbar-brand nav-link d-flex"},{default:y(()=>[Z]),_:1})]),e("div",ee,[se,e("div",oe,[d(h)?(c(),g("div",le,[te,e("button",{type:"button",class:"btn btn-outline-dark d-block mx-auto py-16 d-flex justify-content-center w-75",onClick:s[0]||(s[0]=n=>I()),disabled:d(v)},[ne,ie,d(v)?(c(),x(L,{key:0,color:"#000000"})):k("",!0)],8,ae),de,t(E,{class:"mx-auto w-75",onSubmit:s[7]||(s[7]=n=>S())},{default:y(({errors:n})=>[e("div",ce,[re,t(m,{name:"email",id:"email",type:"email",rules:"required|email",class:_(["form-control fs-7",{"is-invalid":n.email}]),placeholder:"請輸入 Email",modelValue:r.value.email,"onUpdate:modelValue":s[1]||(s[1]=o=>r.value.email=o)},null,8,["class","modelValue"]),t(u,{class:"invalid-feedback",name:"email"})]),e("div",me,[e("div",ue,[_e,e("a",{href:"#",class:"text-delete fs-7",onClick:s[2]||(s[2]=V(o=>d(q)(),["prevent"]))}," 忘記密碼 "),e("div",pe,[e("div",fe,[e("div",ve,[be,e("div",ge,[e("div",he,[we,T(e("input",{type:"email",class:"form-control",id:"resetPasswordEmail",placeholder:"請填寫註冊Email","onUpdate:modelValue":s[3]||(s[3]=o=>D(w)?w.value=o:null)},null,512),[[F,d(w)]])])]),e("div",ye,[e("button",{type:"button",class:"btn btn-primary",onClick:s[4]||(s[4]=(...o)=>f.sendPasswordResetEmail&&f.sendPasswordResetEmail(...o))}," 送出 ")])])])])]),t(m,{name:"密碼",id:"password",type:"password",rules:"required|min:8",class:_(["form-control fs-7",{"is-invalid":n.密碼}]),placeholder:"請輸入密碼",modelValue:r.value.password,"onUpdate:modelValue":s[5]||(s[5]=o=>r.value.password=o)},null,8,["class","modelValue"]),t(u,{class:"invalid-feedback",name:"密碼"})]),e("button",xe,[ke,d(v)?(c(),x(L,{key:0})):k("",!0)]),e("p",Ve,[j(" 還沒有帳號嗎? "),e("a",{href:"#",class:"d-inline-block",onClick:s[6]||(s[6]=V(o=>h.value=!1,["prevent"]))}," 前往註冊 ")])]),_:1})])):(c(),g("div",Le,[Ee,t(E,{class:"mx-auto w-75",onSubmit:s[13]||(s[13]=n=>B())},{default:y(({errors:n})=>[e("div",$e,[je,t(m,{name:"姓名",id:"displayName",type:"text",rules:"required",class:_(["form-control fs-7",{"is-invalid":n.姓名}]),placeholder:"請輸入姓名",modelValue:a.value.name,"onUpdate:modelValue":s[8]||(s[8]=o=>a.value.name=o)},null,8,["class","modelValue"]),t(u,{class:"invalid-feedback",name:"姓名"})]),e("div",Ce,[Pe,t(m,{name:"email",id:"email",type:"email",rules:"required|email",class:_(["form-control fs-7",{"is-invalid":n.email}]),placeholder:"請輸入 Email",modelValue:a.value.email,"onUpdate:modelValue":s[9]||(s[9]=o=>a.value.email=o)},null,8,["class","modelValue"]),t(u,{class:"invalid-feedback",name:"email"})]),e("div",Me,[Ue,t(m,{name:"密碼",id:"password",type:"password",rules:"required|min:8",class:_(["form-control fs-7",{"is-invalid":n.密碼}]),placeholder:"請輸入密碼",modelValue:a.value.password,"onUpdate:modelValue":s[10]||(s[10]=o=>a.value.password=o)},null,8,["class","modelValue"]),t(u,{class:"invalid-feedback",name:"密碼"})]),e("div",qe,[Se,t(m,{name:"驗證密碼",id:"confirmation",type:"password",rules:"required|confirmed:@密碼",class:_(["form-control fs-7",{"is-invalid":n.驗證密碼}]),placeholder:"請再次輸入密碼",modelValue:a.value.confirmPassword,"onUpdate:modelValue":s[11]||(s[11]=o=>a.value.confirmPassword=o)},null,8,["class","modelValue"]),t(u,{class:"invalid-feedback",name:"驗證密碼"})]),e("button",Be,[Ie,d(P)?(c(),x(L,{key:0})):k("",!0)]),e("p",Ne,[j(" 已經有帳號? "),e("a",{href:"#",class:"d-inline-block",onClick:s[12]||(s[12]=V(o=>h.value=!0,["prevent"]))}," 前往登入 ")])]),_:1})]))])])])}}},He=C(Re,[["__scopeId","data-v-e5c3723f"]]);export{He as default};
